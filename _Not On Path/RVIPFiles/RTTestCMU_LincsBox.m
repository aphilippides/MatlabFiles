function[ins,out] = RTTestCMU_LincsBox(window,NumList)%window = SCREEN(0,'OpenWindow',WhiteIndex(0));rect=SCREEN(window,'Rect');white=WhiteIndex(window);black=BlackIndex(window);StrNum=int2str(NumList');ins=zeros(size(NumList));SCREEN(window,'TextFont','Times New Roman');out=[];ins=[];tstart=getsecs;tend=tstart+0.75;SCREEN('Screens');		% Make sure all Rushed functions are in memory.dirs=zeros(1,16);dirs(5:7)=1;ActiveWire(1,'OpenDevice');ActiveWire(1,'SetDirection',dirs);ActiveWire(1,'SetPort',dirs);SCREEN(window,'DrawText','Press button box to start the test',400,50,black);a=ActiveWire(1,'GetPort');  % wait until all buttons released;while(a(2)|a(3)|a(4)) a=ActiveWire(1,'GetPort'); end;while(~(a(2)|a(3)|a(4))) a=ActiveWire(1,'GetPort'); end;while(a(2)|a(3)|a(4)) a=ActiveWire(1,'GetPort'); end;Screen(window,'FillRect',white);	% this fills the screen with white so that                                     % any text is deletedSCREEN(window,'TextSize',72);Y=1;but=4;count=1;xp=rect(3)/2;yp=rect(4)/2;loop={    'SCREEN(window,''DrawText'',StrNum(1,:),xp,yp,black);'    'tstart=getsecs;'    'tend=tstart+0.75;'    'ins(1)=tstart;'    'while (getsecs<=tend);'        'a=ActiveWire(1,''GetPort'');'        'if(a(but));'            'if(Y);'                'out(count)=getsecs;'                'count=count+1;'                'Y=0;'            'end;'         'else;'               'Y=1;'         'end;'    'end;'    'for i=2:length(NumList);'    '   SCREEN(window,''DrawText'',StrNum(i-1,:),xp,yp,white);'    '    SCREEN(window,''DrawText'',StrNum(i,:),xp,yp,black);'    '	tstart=getsecs;'    '    tend=tend+0.75;'    '    ins(i)=tstart;'    '    while (getsecs<=tend);'            'a=ActiveWire(1,''GetPort'');'            'if(a(but));'                'if(Y);'                    'out(count)=getsecs;'                    'count=count+1;'                    'Y=0;'                'end;'            'else;'                 'Y=1;'            'end;'    '    end;'    'end;'    'SCREEN(window,''DrawText'',StrNum(i,:),xp,yp,white);'    'tend=tend+0.25;'    'while (getsecs<=tend);'        'a=ActiveWire(1,''GetPort'');'        'if(a(but));'            'if(Y);'                'out(count)=getsecs;'                'count=count+1;'                'Y=0;'            'end;'         'else;'               'Y=1;'         'end;'    'end;'};RUSH(loop,0.5);testend=getsecs;ins-ins(1);out-ins(1);activewire('CloseAll')%ShowCursor;%SCREEN(window,'Close');