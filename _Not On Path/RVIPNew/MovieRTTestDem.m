function[NoTimes,YesTimes] = MovieRTTestDemport=psychserial('open', '.Bin', '.Bout', 19200); %prepare the portfilename = ['Macintosh HD:Desktop Folder:DriftingGrating.mov']; 	% load the moviemovie=Showtime('GetFromFile',filename);Showtime('LoadIntoRam',movie);window=Showtime('OpenWindow',0);Showtime('Window',movie,window);gray=GrayIndex(window,0.5);Screen(window,'FillRect',gray);frate=showtime('Rate',movie); 		% Get the frame rate of the movietbetweenframes=1/frate;				% get the time between each frameNumFrames = 270;					% set the number of frames% I wanted to do thid automatically using % NumFrames = ShowtimeMovieFrameCount(movie)% but it returned an errora = psychserial('read', port, 0.001);	% 'Flush' the portwhile(~isempty(a))    a= psychserial('read', port, 0.001);endNoTimes=[];YesTimes=[];t1=getsecs;								% Record the start timefor i=1:NumFrames						% Step through each frame        t=getsecs;						% Get the time a frame is shown    Showtime('MovieFrameDisplay',movie,i);	% Show the frame        while((getsecs-t)<tbetweenframes)				% Repeatedly check the port         a = uint8(psychserial('read', port,0.0001));	% until its time for the next frame                if(~isempty(a))            if(a(1)==4) YesTimes = [YesTimes getsecs]; 	% If yes, record the time            elseif(a(1)==1) NoTimes = [NoTimes getsecs];	% If no, record the time            end        end    endendShowtime('CloseWindow',window);psychserial('close', port);Showtime('Dispose',movie);YesTimes=YesTimes-t1NoTimes=NoTimes-t1