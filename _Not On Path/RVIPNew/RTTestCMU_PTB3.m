function[ins,out] = RTTestCMU(window,NumList)%window = SCREEN(0,'OpenWindow',WhiteIndex(0));white=WhiteIndex(window);black=BlackIndex(window);% Report the number and wait for responseStrNum=int2str(NumList');ins=zeros(size(NumList));SCREEN('TextFont',window,'Times New Roman');%for i=1:1000secs=0;count=1;getsecs;NotStillPressed=1;out=[];tstart=getsecs;tend=tstart+0.75;SCREEN('Screens');		% Make sure all Rushed functions are in memory.port=psychserial('open', '.Bin', '.Bout', 19200);%a0=psychserial('read', port,0.020);DrawFormattedText(window,'Press button box to start the test', 'center', 'top', black);'Screen('Flip',window);a= psychserial('read', port, 0.001);while(isempty(a))a= psychserial('read', port, 0.001);end% set font size for numbersSCREEN('TextSize',window,72);loop={    'for i=1:length(NumList);'    '    DrawFormattedText(window, StrNum(i,:), ''center'', ''center'', black);'    '    Screen(''Flip'',window);'      '	 tstart=getsecs;'    '    tend=tend+0.75;'    '    ins(i)=tstart;'    '    while (getsecs<=tend);'    '       a= psychserial(''read'', port, 0.0001);'    '       if(~isempty(a));'    '               if(uint8(a)==4); '    '   	            out(count)=getsecs;'    '                   count=count+1;'    '               end;'    '        end;'    '    end;'    'end;'    'tend=tend+0.25;'    'while (getsecs<=tend);'    '   a= psychserial(''read'', port, 0.0001);'    '       if(~isempty(a));'    '               if(uint8(a)==4); '    '   	            out(count)=getsecs;'    '                   count=count+1;'    '               end;'    '        end;'    'end;'};RUSH(loop,0.5);psychserial('close', port);testend=getsecs;ins-ins(1)out-ins(1)