function[ins,out] = RTTestCMU(window,NumList)%window = SCREEN(0,'OpenWindow',WhiteIndex(0));white=WhiteIndex(window);black=BlackIndex(window);% Report the number and wait for responseStrNum=int2str(NumList');ins=zeros(size(NumList));SCREEN(window,'TextFont','Times New Roman');%for i=1:1000secs=0;count=1;getsecs;NotStillPressed=1;out=[];tstart=getsecs;tend=tstart+0.75;SCREEN('Screens');		% Make sure all Rushed functions are in memory.port=psychserial('open', '.Bin', '.Bout', 9600);%a0=psychserial('read', port,0.020);SCREEN(window,'DrawText','Press button box to start the test',400,50,black);a= psychserial('read', port, 0.001);while(isempty(a))a= psychserial('read', port, 0.001);endSCREEN(window,'DrawText','Press button box to start the test',400,50,white);SCREEN(window,'TextSize',72);newbit=[];loop={    'SCREEN(window,''DrawText'',StrNum(1,:),500,350,black);'    'tstart=getsecs;'    'tend=tstart+0.75;'    'ins(1)=tstart;'    'while (getsecs<=tend);'    '   a= psychserial(''read'', port, 0.001);'    '       if(~isempty(a));'    '               if(double(a)==65521); '    '   	            out(count)=getsecs;'    '                   count=count+1;'    '               end;'    '        end;'    'end;'    'for i=2:length(NumList);'    '   SCREEN(window,''DrawText'',StrNum(i-1,:),500,350,white);'    '   a= psychserial(''read'', port, 0.001);'    '       if(~isempty(a));'    '               if(double(a)==65521); '    '   	            out(count)=getsecs;'    '                   count=count+1;'    '               end;'    '        end;'    '    SCREEN(window,''DrawText'',StrNum(i,:),500,350,black);'    '	tstart=getsecs;'    '    tend=tend+0.75;'    '    ins(i)=tstart;'    '    while (getsecs<=tend);'    '       a= psychserial(''read'', port, 0.001);'    '       if(~isempty(a));'    '               if(double(a)==65521); '    '   	            out(count)=getsecs;'    '                   count=count+1;'    '               end;'    '        end;'    '    end;'    'end;'    'SCREEN(window,''DrawText'',StrNum(i,:),500,350,white);'    'tend=tend+0.25;'    'while (getsecs<=tend);'    '   a= psychserial(''read'', port, 0.001);'    '       if(~isempty(a));'	'				newbit=[newbit double(a)];'    '               if(double(a)>=65500); '    '   	            out(count)=getsecs;'    '                   count=count+1;'    '               end;'    '        end;'    'end;'};RUSH(loop,0);psychserial('close', port);testend=getsecs;ins-ins(1)newbitout-ins(1)